{"ast":null,"code":"var _jsxFileName = \"C:\\\\node\\\\tutor\\\\tutor-react\\\\src\\\\components\\\\Header.js\";\nimport React from 'react'; //import data from './user.json';\n\nimport { connect } from 'react-redux';\nimport { deleteUser } from '../actions/action';\n\nclass Header extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onRemove = e => {\n      console.log(e.target.getAttribute('data-id'));\n      let id = e.target.getAttribute('data-id');\n      this.props.deleteUser(parseInt(id));\n    };\n\n    this.state = {\n      'name': props.name ? props.name : '',\n      'users': props.users ? props.users : [],\n      'isLoading': false,\n      'isLoaded': false,\n      'sortedUsers': []\n    };\n  } // componentDidUpdate(prevProps, prevState) {\n  // \tconsole.log(\"update\");\n  // \t// if (prevProps.name !== this.props.name) {\n  // \t// \tconsole.log(\"update\");\n  // \t// \treturn true;\n  // \t// } \n  // }\n  // shouldComponentUpdate(nextProps, nextState) {\n  // \tconsole.log(\"should update\");\n  // }\n  // static getDerivedStateFromProps(nextProps, prevState) {\n  // \tconsole.log(\"derived\");\n  // \t// if (nextProps.name !== prevState.name) {\n  // \t// \tconsole.log(\"derived\");\n  // \t// \treturn true;\n  // \t// \t// return { name: nextProps.name};\n  // \t// }\n  // \t// else return null;\n  // }\n  // => This works well\n\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.name !== this.props.name) {\n      let name = this.state.name;\n\n      if (name.length > 0) {\n        let sorted = this.state.users.filter(user => {\n          if (user.name.indexOf(name) === 0) {\n            return true;\n          } else return false;\n        });\n        this.setState({\n          sortedUsers: sorted\n        });\n      } else {\n        this.setState({\n          sortedUsers: []\n        });\n      }\n    }\n\n    if (prevProps.users !== this.props.users) {\n      this.setState({\n        users: this.props.users\n      });\n    }\n  } //=> this works well \n\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (this.state.users !== nextProps.users) {\n      this.setState({\n        users: nextProps.users\n      });\n      return true;\n    } else return false;\n  } // => perfectly works\n\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (nextProps.name !== prevState.name) {\n      console.log(\"derived\", prevState.name, nextProps.name);\n      return {\n        name: nextProps.name\n      };\n    } else return null;\n  }\n\n  render() {\n    console.log(\"name: \", this.state.name);\n    return React.createElement(\"div\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Name : \\u2003\", React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, this.state.name ? this.state.name : 'NO NAME')), React.createElement(\"div\", {\n      className: \"sorted\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"checker :\")), React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"ID\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"Name\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Gender\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    })), this.state.sortedUsers.length > 0 ? this.state.sortedUsers.map((user, i) => React.createElement(\"tr\", {\n      key: i + 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, user.id), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, user.name), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, user.gender), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"remove-user\",\n      \"data-id\": user.id,\n      onClick: this.onRemove,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Remove\")))) : React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"No data\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"No data\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"No data\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }))))), React.createElement(\"div\", {\n      className: \"list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"Users :\")), React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, \"ID\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \"Name\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, \"Gender\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    })), this.state.users.length > 0 ? this.state.users.map((user, i) => React.createElement(\"tr\", {\n      key: i + 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, user.id), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, user.name), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, user.gender), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"remove-user\",\n      \"data-id\": user.id,\n      onClick: this.onRemove,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, \"Remove\")))) : React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \"No data\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, \"No data\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \"No data\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    users: state.user_details.users\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    deleteUser: id => dispatch(deleteUser(id))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);\n/* Working Model\r\n\r\nimport React from 'react';\r\n//import data from './user.json';\r\n\r\nclass Header extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\t'name': props.name,\r\n\t\t\t'users': [],\r\n\t\t\t'isLoading': false,\r\n\t\t\t'isLoaded': false,\r\n\t\t\t'sortedUsers': []\r\n\t\t};\r\n\t}\r\n\r\n\t// componentDidUpdate(prevProps, prevState) {\r\n\t// \tconsole.log(\"update\");\r\n\t// \t// if (prevProps.name !== this.props.name) {\r\n\t// \t// \tconsole.log(\"update\");\r\n\t// \t// \treturn true;\r\n\t// \t// }\r\n\t// }\r\n\r\n\t// shouldComponentUpdate(nextProps, nextState) {\r\n\t// \tconsole.log(\"should update\");\r\n\t// }\r\n\r\n\t// static getDerivedStateFromProps(nextProps, prevState) {\r\n\t// \tconsole.log(\"derived\");\r\n\t// \t// if (nextProps.name !== prevState.name) {\r\n\t// \t// \tconsole.log(\"derived\");\r\n\t// \t// \treturn true;\r\n\t// \t// \t// return { name: nextProps.name};\r\n\t// \t// }\r\n\t// \t// else return null;\r\n\t// }\r\n\r\n\t// => This works well\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif (prevProps.name !== this.props.name) {\r\n\t\t\tlet { name } = this.state;\r\n\t\t\tif (name.length > 0) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tisLoading: true\r\n\t\t\t\t});\r\n\t\t\t\tlet sorted = this.state.users.filter(user => {\r\n\t\t\t\t\tif (user.name.indexOf(name) === 0) {\r\n\t\t\t\t\t\tconsole.log(\"list\", user);\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t} else return false;\r\n\t\t\t\t});\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tsortedUsers: sorted,\r\n\t\t\t\t\tisLoading: false\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tsortedUsers: [],\r\n\t\t\t\t\tisLoading: false\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// => this works well\r\n\t// shouldComponentUpdate(nextProps, nextState) {\r\n\t// \tif (this.state.name !== nextProps.name) {\r\n\t// \t\tthis.setState({\r\n\t// \t\t\tname : nextProps.name\r\n\t// \t\t});\r\n\t// \t\treturn true;\r\n\t// \t}\telse return false;\r\n\t// }\r\n\r\n\t// => perfectly works\r\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\r\n\t\tif (nextProps.name !== prevState.name) {\r\n\t\t\tconsole.log(\"derived\");\r\n\t\t\treturn { name: nextProps.name };\r\n\t\t}\r\n\t\telse return null;\r\n\t}\r\n\r\n\tasync componentDidMount() {\r\n\t\tawait fetch('./user.json')\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(data => {\r\n\t\t\t\t//console.log(data);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tusers: data.users\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch(error => console.log(error));\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"header\">\r\n\t\t\t\t<p>Name : &emsp;<b>{this.state.name ? this.state.name : 'NO NAME'}</b></p>\r\n\r\n\t\t\t\t<div className=\"sorted\">\r\n\t\t\t\t\t<p><b>checker :</b></p>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.state.isLoading === false ?\r\n\t\t\t\t\t\t<table>\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t\t\t\t\t<th>Gender</th>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.state.sortedUsers.length > 0 ?\r\n\t\t\t\t\t\t\t\t\t\tthis.state.sortedUsers.map((user, i) =>\r\n\t\t\t\t\t\t\t\t\t\t\t(<tr key={i + 1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{user.id}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{user.name}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{user.gender}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>)\r\n\t\t\t\t\t\t\t\t\t\t) :\r\n\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>No data</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>No data</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>No data</td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table> :\r\n\t\t\t\t\t\t<p>Loading -------</p>\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t<div className=\"list\">\r\n\t\t\t\t\t<p><b>Users :</b></p>\r\n\t\t\t\t\t<table>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t\t\t\t<th>Gender</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.state.users.length > 0 ?\r\n\t\t\t\t\t\t\t\t\tthis.state.users.map((user, i) =>\r\n\t\t\t\t\t\t\t\t\t\t(<tr key={i + 1}>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{user.id}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{user.name}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{user.gender}</td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>)\r\n\t\t\t\t\t\t\t\t\t) :\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<td>No data</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>No data</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>No data</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Header;\r\n\r\n\r\n\r\n\r\n*/","map":{"version":3,"sources":["C:\\node\\tutor\\tutor-react\\src\\components\\Header.js"],"names":["React","connect","deleteUser","Header","Component","constructor","props","onRemove","e","console","log","target","getAttribute","id","parseInt","state","name","users","componentDidUpdate","prevProps","prevState","length","sorted","filter","user","indexOf","setState","sortedUsers","shouldComponentUpdate","nextProps","nextState","getDerivedStateFromProps","render","map","i","gender","mapStateToProps","user_details","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from 'react';\r\n//import data from './user.json';\r\nimport { connect } from 'react-redux';\r\nimport { deleteUser } from '../actions/action';\r\n\r\nclass Header extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\t'name': props.name ? props.name : '',\r\n\t\t\t'users': props.users ? props.users : [],\r\n\t\t\t'isLoading': false,\r\n\t\t\t'isLoaded': false,\r\n\t\t\t'sortedUsers': []\r\n\t\t};\r\n\t}\r\n\r\n\t// componentDidUpdate(prevProps, prevState) {\r\n\t// \tconsole.log(\"update\");\r\n\t// \t// if (prevProps.name !== this.props.name) {\r\n\t// \t// \tconsole.log(\"update\");\r\n\t// \t// \treturn true;\r\n\t// \t// } \r\n\t// }\r\n\r\n\t// shouldComponentUpdate(nextProps, nextState) {\r\n\t// \tconsole.log(\"should update\");\r\n\t// }\r\n\r\n\t// static getDerivedStateFromProps(nextProps, prevState) {\r\n\t// \tconsole.log(\"derived\");\r\n\t// \t// if (nextProps.name !== prevState.name) {\r\n\t// \t// \tconsole.log(\"derived\");\r\n\t// \t// \treturn true;\r\n\t// \t// \t// return { name: nextProps.name};\r\n\t// \t// }\r\n\t// \t// else return null;\r\n\t// }\r\n\r\n\t// => This works well\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif (prevProps.name !== this.props.name) {\r\n\t\t\tlet { name } = this.state;\r\n\t\t\tif (name.length > 0) {\r\n\t\t\t\tlet sorted = this.state.users.filter(user => {\r\n\t\t\t\t\tif (user.name.indexOf(name) === 0) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t} else return false;\r\n\t\t\t\t});\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tsortedUsers: sorted\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tsortedUsers: []\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (prevProps.users !== this.props.users) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tusers : this.props.users\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\t//=> this works well \r\n\tshouldComponentUpdate(nextProps, nextState) {\r\n\t\tif (this.state.users !== nextProps.users) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tusers : nextProps.users\r\n\t\t\t});\r\n\t\t\treturn true;\r\n\t\t}\telse return false;\r\n\t}\r\n\r\n\t// => perfectly works\r\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\r\n\t\tif (nextProps.name !== prevState.name) {\r\n\t\t\tconsole.log(\"derived\", prevState.name, nextProps.name);\r\n\t\t\treturn { name: nextProps.name };\r\n\t\t}\r\n\t\telse return null;\r\n\t}\r\n\r\n\tonRemove = (e) => {\r\n\t\tconsole.log(e.target.getAttribute('data-id'));\r\n\t\tlet id = e.target.getAttribute('data-id');\r\n\t\tthis.props.deleteUser(parseInt(id));\r\n\t}\r\n\r\n\trender() {\r\n\t\tconsole.log(\"name: \", this.state.name);\r\n\t\treturn (\r\n\t\t\t<div className=\"header\">\r\n\t\t\t\t<p>Name : &emsp;<b>{this.state.name ? this.state.name : 'NO NAME'}</b></p>\r\n\r\n\t\t\t\t<div className=\"sorted\">\r\n\t\t\t\t\t<p><b>checker :</b></p>\r\n\t\t\t\t\t<table>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t\t\t\t<th>Gender</th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.state.sortedUsers.length > 0 ?\r\n\t\t\t\t\t\t\t\t\tthis.state.sortedUsers.map((user, i) =>\r\n\t\t\t\t\t\t\t\t\t\t(<tr key={i + 1}>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{user.id}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{user.name}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{user.gender}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td><button className=\"remove-user\" data-id={user.id} onClick={this.onRemove}>Remove</button></td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>)\r\n\t\t\t\t\t\t\t\t\t) :\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<td>No data</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>No data</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>No data</td>\r\n\t\t\t\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t<div className=\"list\">\r\n\t\t\t\t\t<p><b>Users :</b></p>\r\n\t\t\t\t\t<table>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t\t\t\t<th>Gender</th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.state.users.length > 0 ?\r\n\t\t\t\t\t\t\t\t\tthis.state.users.map((user, i) =>\r\n\t\t\t\t\t\t\t\t\t\t(<tr key={i + 1}>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{user.id}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{user.name}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{user.gender}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td><button className=\"remove-user\" data-id={user.id} onClick={this.onRemove}>Remove</button></td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>)\r\n\t\t\t\t\t\t\t\t\t) :\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<td>No data</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>No data</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>No data</td>\r\n\t\t\t\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tusers: state.user_details.users\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tdeleteUser : (id) => dispatch(deleteUser(id)) \r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);\r\n\r\n\r\n\r\n\r\n/* Working Model\r\n\r\nimport React from 'react';\r\n//import data from './user.json';\r\n\r\nclass Header extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\t'name': props.name,\r\n\t\t\t'users': [],\r\n\t\t\t'isLoading': false,\r\n\t\t\t'isLoaded': false,\r\n\t\t\t'sortedUsers': []\r\n\t\t};\r\n\t}\r\n\r\n\t// componentDidUpdate(prevProps, prevState) {\r\n\t// \tconsole.log(\"update\");\r\n\t// \t// if (prevProps.name !== this.props.name) {\r\n\t// \t// \tconsole.log(\"update\");\r\n\t// \t// \treturn true;\r\n\t// \t// }\r\n\t// }\r\n\r\n\t// shouldComponentUpdate(nextProps, nextState) {\r\n\t// \tconsole.log(\"should update\");\r\n\t// }\r\n\r\n\t// static getDerivedStateFromProps(nextProps, prevState) {\r\n\t// \tconsole.log(\"derived\");\r\n\t// \t// if (nextProps.name !== prevState.name) {\r\n\t// \t// \tconsole.log(\"derived\");\r\n\t// \t// \treturn true;\r\n\t// \t// \t// return { name: nextProps.name};\r\n\t// \t// }\r\n\t// \t// else return null;\r\n\t// }\r\n\r\n\t// => This works well\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif (prevProps.name !== this.props.name) {\r\n\t\t\tlet { name } = this.state;\r\n\t\t\tif (name.length > 0) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tisLoading: true\r\n\t\t\t\t});\r\n\t\t\t\tlet sorted = this.state.users.filter(user => {\r\n\t\t\t\t\tif (user.name.indexOf(name) === 0) {\r\n\t\t\t\t\t\tconsole.log(\"list\", user);\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t} else return false;\r\n\t\t\t\t});\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tsortedUsers: sorted,\r\n\t\t\t\t\tisLoading: false\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tsortedUsers: [],\r\n\t\t\t\t\tisLoading: false\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// => this works well\r\n\t// shouldComponentUpdate(nextProps, nextState) {\r\n\t// \tif (this.state.name !== nextProps.name) {\r\n\t// \t\tthis.setState({\r\n\t// \t\t\tname : nextProps.name\r\n\t// \t\t});\r\n\t// \t\treturn true;\r\n\t// \t}\telse return false;\r\n\t// }\r\n\r\n\t// => perfectly works\r\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\r\n\t\tif (nextProps.name !== prevState.name) {\r\n\t\t\tconsole.log(\"derived\");\r\n\t\t\treturn { name: nextProps.name };\r\n\t\t}\r\n\t\telse return null;\r\n\t}\r\n\r\n\tasync componentDidMount() {\r\n\t\tawait fetch('./user.json')\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(data => {\r\n\t\t\t\t//console.log(data);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tusers: data.users\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch(error => console.log(error));\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"header\">\r\n\t\t\t\t<p>Name : &emsp;<b>{this.state.name ? this.state.name : 'NO NAME'}</b></p>\r\n\r\n\t\t\t\t<div className=\"sorted\">\r\n\t\t\t\t\t<p><b>checker :</b></p>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.state.isLoading === false ?\r\n\t\t\t\t\t\t<table>\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t\t\t\t\t<th>Gender</th>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.state.sortedUsers.length > 0 ?\r\n\t\t\t\t\t\t\t\t\t\tthis.state.sortedUsers.map((user, i) =>\r\n\t\t\t\t\t\t\t\t\t\t\t(<tr key={i + 1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{user.id}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{user.name}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{user.gender}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>)\r\n\t\t\t\t\t\t\t\t\t\t) :\r\n\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>No data</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>No data</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>No data</td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table> :\r\n\t\t\t\t\t\t<p>Loading -------</p>\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t<div className=\"list\">\r\n\t\t\t\t\t<p><b>Users :</b></p>\r\n\t\t\t\t\t<table>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t\t\t\t<th>Gender</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.state.users.length > 0 ?\r\n\t\t\t\t\t\t\t\t\tthis.state.users.map((user, i) =>\r\n\t\t\t\t\t\t\t\t\t\t(<tr key={i + 1}>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{user.id}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{user.name}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{user.gender}</td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>)\r\n\t\t\t\t\t\t\t\t\t) :\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<td>No data</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>No data</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>No data</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Header;\r\n\r\n\r\n\r\n\r\n*/"]},"metadata":{},"sourceType":"module"}